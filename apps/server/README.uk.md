# üåø Plantains App Backend (–ü–æ–¥–æ—Ä–æ–∂–Ω–∏–∫–∏ API)

**Plantains App Backend** ‚Äî —Å–µ—Ä–≤–µ—Ä–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞ –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ –Ω–∞–≤—á–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—î–∫—Ç—É **Plantain (–ü–æ–¥–æ—Ä–æ–∂–Ω–∏–∫–∏)**, —Å—Ç–≤–æ—Ä–µ–Ω–æ–≥–æ —É —Ä–∞–º–∫–∞—Ö Fullstack Bootcamp 75.
API –∑–∞–±–µ–∑–ø–µ—á—É—î –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é, —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏, —ñ—Å—Ç–æ—Ä—ñ—è–º–∏ –ø–æ–¥–æ—Ä–æ–∂–µ–π —Ç–∞ –º–∞–Ω–¥—Ä—ñ–≤–Ω–∏–∫–∞–º–∏.
–†–æ–∑—Ä–æ–±–ª–µ–Ω–æ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º **Node.js, Express, MongoDB —Ç–∞ JWT**.

---

## üöÄ API Documentation

- **Base URL:** [https://plantains-app.onrender.com/api](https://plantains-app.onrender.com/api)
- **Swagger UI:** [https://plantains-app.onrender.com/api-docs](https://plantains-app.onrender.com/api-docs)

---

## ‚ú® –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

### üîê Auth

- `POST /auth/register` ‚Äî —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (–≤–∞–ª—ñ–¥–∞—Ü—ñ—è Joi, —Ö–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—é, –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ email).
- `POST /auth/login` ‚Äî –ª–æ–≥—ñ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (–ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ email + password, –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è JWT).
- `POST /auth/logout` ‚Äî –≤–∏—Ö—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.
- `POST /auth/refresh` ‚Äî –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–æ–∫–µ–Ω—É –¥–æ—Å—Ç—É–ø—É.
- `POST /auth/google` ‚Äî –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —á–µ—Ä–µ–∑ Google.
- `POST /auth/send-reset-email` ‚Äî –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ email –¥–ª—è —Å–∫–∏–¥–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—é.
- `POST /auth/reset-password` ‚Äî —Å–∫–∏–¥–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—é.

### üë§ Users

- `GET /users/me` ‚Äî –æ—Ç—Ä–∏–º–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –ø–æ—Ç–æ—á–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.
- `PATCH /users/onboarding` ‚Äî –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

### üìñ Stories

- `GET /stories` ‚Äî –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤—Å—ñ —ñ—Å—Ç–æ—Ä—ñ—ó –∑ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—î—é –ø–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è—Ö —Ç–∞ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—ñ.
- `GET /stories/:id` ‚Äî –æ—Ç—Ä–∏–º–∞—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é –∑–∞ ID.
- `POST /stories` ‚Äî —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ—ó —ñ—Å—Ç–æ—Ä—ñ—ó (–ø—Ä–∏–≤–∞—Ç–Ω–∏–π —Ä–æ—É—Ç).

### üåç Travellers

- `GET /travellers` ‚Äî –æ—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ –º–∞–Ω–¥—Ä—ñ–≤–Ω–∏–∫—ñ–≤.
- `GET /travellers/:id` ‚Äî –æ—Ç—Ä–∏–º–∞—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –º–∞–Ω–¥—Ä—ñ–≤–Ω–∏–∫–∞.
- `GET /travellers/:id/stories` ‚Äî –æ—Ç—Ä–∏–º–∞—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—ó –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–∞–Ω–¥—Ä—ñ–≤–Ω–∏–∫–∞.

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- [Node.js](https://nodejs.org/) + [Express 5](https://expressjs.com/)
- [MongoDB](https://www.mongodb.com/) + [Mongoose](https://mongoosejs.com/)
- [JWT](https://jwt.io/) –¥–ª—è –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
- [Joi](https://joi.dev/) –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
- [bcrypt](https://www.npmjs.com/package/bcrypt) –¥–ª—è —Ö–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤
- [Multer](https://github.com/expressjs/multer) –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤
- [Cloudinary](https://cloudinary.com/) –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å
- [Nodemailer](https://nodemailer.com/) + [Handlebars](https://handlebarsjs.com/) –¥–ª—è email-—à–∞–±–ª–æ–Ω—ñ–≤
- [pino-http](https://github.com/pinojs/pino-http) –¥–ª—è –ª–æ–≥—É–≤–∞–Ω–Ω—è
- [swagger-ui-express](https://www.npmjs.com/package/swagger-ui-express) –¥–ª—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó Swagger
- [Redocly](https://redocly.com/) –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

plantains-app-server/
‚îÇ‚îÄ‚îÄ src/
‚îÇ ‚îú‚îÄ‚îÄ config/ # –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è (env, cloudinary, db)
‚îÇ ‚îú‚îÄ‚îÄ controllers/ # –ª–æ–≥—ñ–∫–∞ –æ–±—Ä–æ–±–∫–∏ –∑–∞–ø–∏—Ç—ñ–≤
‚îÇ ‚îú‚îÄ‚îÄ middlewares/ # middleware (authenticate, errorHandler)
‚îÇ ‚îú‚îÄ‚îÄ models/ # Mongoose-—Å—Ö–µ–º–∏ (User, Story, Traveller)
‚îÇ ‚îú‚îÄ‚îÄ routes/ # –º–∞—Ä—à—Ä—É—Ç–∏ (auth, users, stories, travellers)
‚îÇ ‚îú‚îÄ‚îÄ services/ # –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ —Ç–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó
‚îÇ ‚îú‚îÄ‚îÄ utils/ # —É—Ç–∏–ª—ñ—Ç–∏ (email, error, validators)
‚îÇ ‚îî‚îÄ‚îÄ index.js # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥—É
‚îÇ‚îÄ‚îÄ docs/ # OpenAPI (Swagger, Redocly)
‚îÇ‚îÄ‚îÄ .editorconfig
‚îÇ‚îÄ‚îÄ .eslintrc.js
‚îÇ‚îÄ‚îÄ package.json
‚îÇ‚îÄ‚îÄ .env.example

---

## üìå Roadmap

### ‚úÖ MVP (–≥–æ—Ç–æ–≤–æ)

- [x] –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ –ª–æ–≥—ñ–Ω –∑ JWT
- [x] Middleware –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
- [x] Logout + Refresh —Ç–æ–∫–µ–Ω–∏
- [x] –û—Ç—Ä–∏–º–∞–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- [x] CRUD –¥–ª—è —ñ—Å—Ç–æ—Ä—ñ–π (—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, –ø–µ—Ä–µ–≥–ª—è–¥)
- [x] –°–∫–∏–¥–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—é —á–µ—Ä–µ–∑ email
- [x] Google –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
- [x] –°–ø–∏—Å–æ–∫ —Ç–∞ –ø—Ä–æ—Ñ—ñ–ª—ñ –º–∞–Ω–¥—Ä—ñ–≤–Ω–∏–∫—ñ–≤
- [x] –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è —ñ—Å—Ç–æ—Ä—ñ–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è—Ö

### üöÄ Planned

- [ ] –í–µ—Ä–∏—Ñ—ñ–∫–∞—Ü—ñ—è email –ø—Ä–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó —Ç–∞ –∑–º—ñ–Ω—ñ –ø–æ—à—Ç–∏
- [ ] –†–æ–∑—à–∏—Ä–µ–Ω–∏–π CRUD –¥–ª—è —ñ—Å—Ç–æ—Ä—ñ–π (—Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è, –≤–∏–¥–∞–ª–µ–Ω–Ω—è)
- [ ] –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ –¥–æ —ñ—Å—Ç–æ—Ä—ñ–π
- [ ] –°–∏—Å—Ç–µ–º–∞ –ª–∞–π–∫—ñ–≤ / —Ä–µ–π—Ç–∏–Ω–≥—ñ–≤
- [ ] Docker –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
- [ ] CI/CD —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
- [ ] –ú—É–ª—å—Ç–∏–º–æ–≤–Ω—ñ—Å—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å (i18n)
- [ ] **PWA-ready API**

---

## ‚öôÔ∏è –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫

```bash
# 1. –ö–ª–æ–Ω—É–≤–∞—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
git clone https://github.com/prokopiy203/project-m.git

# 2. –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é
cd project-m

# 3. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
npm install

# 4. –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ–∞–π–ª .env –Ω–∞ –æ—Å–Ω–æ–≤—ñ .env.example

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —É —Ä–µ–∂–∏–º—ñ —Ä–æ–∑—Ä–æ–±–∫–∏
npm run dev

# 6. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —É –ø—Ä–æ–¥–∞–∫—à–Ω —Ä–µ–∂–∏–º—ñ
npm start

# 7. –ó—ñ–±—Ä–∞—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é OpenAPI
npm run build-docs
```
